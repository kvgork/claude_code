# Project Context: Improve Learning Agent Structure

**Generated**: 2025-10-07 21:00:41
**Search Query**: "improve learning agent structure"
**Files Found**: 22 (14 agents + 8 commands)

---

## üìä Executive Summary

The learning agent system consists of 14 specialized agents and 8 commands that orchestrate learning experiences. All agents use the Sonnet model with varying tool configurations.

### Current Structure
- **14 agents** across 4 categories: Coordinators (2), Mentors (3), Domain Specialists (5), Development Tools (4)
- **8 commands** for learning workflows and planning
- **3 directory structure**: agents/, commands/, docs/
- **Consistent patterns**: All use YAML frontmatter with similar structures

### Key Insights
- **Coordination agents** (learning-coordinator, project-plan-orchestrator) manage workflows
- **Teaching agents** use read-only tools (read, write) vs implementation agents with bash/python
- **Tool configuration inconsistency**: Some use list format, others use comma-separated
- **Well-documented**: Each agent has clear teaching rules and processes
- **Newly added**: file-search-agent and project-plan-orchestrator for context-aware planning

### Identified Improvement Areas
1. **Tool configuration standardization** needed
2. **Activation patterns** not consistently defined
3. **Agent discovery** mechanism unclear
4. **Testing/validation** for agents missing
5. **Dependency management** between agents not explicit
6. **Error handling** patterns could be standardized
7. **Performance metrics** not tracked
8. **Version control** for agent definitions needed

---

## üóÇÔ∏è Files by Category

### Coordination & Orchestration Agents

#### 1. `agents/learning-coordinator.md`
- **Type**: Master Coordinator Agent
- **Purpose**: Orchestrates learning experiences by delegating to specialized sub-agents
- **Relevance**: Central hub for all learning workflows
- **Key Components**:
  - Reflection-first approach (runs `/reflection` command)
  - Teaching principles (never provides complete solutions)
  - Response frameworks for different request types
  - Specialist coordination examples
  - Student learning profile
- **Tools**: read, write, bash, python
- **Model**: sonnet
- **Lines**: 472 lines
- **Integration Point**: Entry point for all learning requests
- **Dependencies**: Coordinates with all other teaching agents
- **Potential Issues**: Very large (472 lines), could benefit from modularization

#### 2. `agents/project-plan-orchestrator.md`
- **Type**: Workflow Orchestrator
- **Purpose**: Orchestrates sequential execution of file-search and planning agents
- **Relevance**: Core of new context-aware planning system
- **Key Components**:
  - Sequential workflow process
  - Agent coordination protocol
  - State tracking
  - Error handling
- **Tools**: Read, Write, Task
- **Model**: sonnet
- **Activation**: proactive
- **Integration Point**: Invoked by create-project-plan command
- **Dependencies**: file-search-agent, plan-generation-mentor
- **Status**: Recently added, not yet tested in production

### Planning & Mentor Agents

#### 3. `agents/plan-generation-mentor.md`
- **Type**: Educational Planning Specialist
- **Purpose**: Creates detailed, educational implementation plans
- **Relevance**: Transforms feature requests into learning journeys
- **Key Components**:
  - Teaching approach (no complete solutions)
  - Plan philosophy and structure
  - Learning phases (not implementation steps)
  - Context-aware planning (NEW - reads codebase analysis)
  - Specialist coordination section
  - Learning verification checkpoints
- **Tools**: read, write
- **Model**: sonnet
- **Lines**: ~425 lines
- **Integration Point**: Creates plans in plans/ directory
- **Dependencies**: Used by learning-coordinator and project-plan-orchestrator
- **Recent Enhancement**: Now checks for `project-context/relevant-files-*.md` files

#### 4. `agents/code-architecture-mentor.md`
- **Type**: Design Patterns & Architecture Teacher
- **Purpose**: Teaches software design patterns and architectural thinking
- **Relevance**: Guides system design decisions
- **Key Components**:
  - Teaching approach (Socratic questioning)
  - 10 core design patterns
  - SOLID principles
  - Trade-off analysis
- **Tools**: read, write, python
- **Model**: sonnet
- **Integration Point**: Called for design decisions in learning phases
- **Dependencies**: Referenced by other agents for architecture guidance

#### 5. `agents/ros2-learning-mentor.md`
- **Type**: ROS2 Concepts Teacher
- **Purpose**: Teaches ROS2 middleware, nodes, topics, transforms
- **Relevance**: Robotics-specific learning
- **Key Components**:
  - ROS2 fundamentals teaching
  - Node architecture guidance
  - Message types and communication
- **Tools**: read, write, bash, python
- **Model**: sonnet
- **Integration Point**: Robotics learning phases
- **Dependencies**: Works with robotics-vision-navigator, jetank-hardware-specialist

### Domain Specialist Agents

#### 6. `agents/robotics-vision-navigator.md`
- **Type**: Computer Vision & Navigation Specialist
- **Purpose**: Teaches computer vision, SLAM, path planning, navigation
- **Relevance**: Vision and navigation learning
- **Tools**: read, write, bash, python
- **Model**: sonnet
- **Integration Point**: Vision and navigation phases in plans

#### 7. `agents/jetank-hardware-specialist.md`
- **Type**: Hardware Integration Specialist
- **Purpose**: Teaches GPIO, sensors, motors for JETANK platform
- **Relevance**: Hardware-specific learning
- **Tools**: read, write, bash, python
- **Model**: sonnet
- **Integration Point**: Hardware integration phases
- **Safety Focus**: Emphasizes safe hardware testing

#### 8. `agents/python-best-practices.md`
- **Type**: Python Quality & Patterns Teacher
- **Purpose**: Teaches Pythonic patterns, PEP 8, type hints, idiomatic code
- **Relevance**: Python code quality improvement
- **Key Components**:
  - Teaching approach (no complete solutions)
  - Pattern examples (2-3 lines max)
  - Improvement process guidance
- **Tools**: read, write, python
- **Model**: sonnet
- **Integration Point**: Code review and refactoring phases

#### 9. `agents/cpp-best-practises.md`
- **Type**: C++ Best Practices Teacher
- **Purpose**: Teaches modern C++, real-time systems, memory management
- **Relevance**: C++ code quality
- **Tools**: read, write, bash
- **Model**: sonnet
- **Note**: Filename has typo ("practises" vs "practices")

#### 10. `agents/debugging-detective.md`
- **Type**: Debugging Methodology Teacher
- **Purpose**: Teaches systematic debugging approaches
- **Relevance**: Problem-solving methodology
- **Key Components**:
  - Teaching rules (never fixes bugs directly)
  - Debugging framework
  - Robotics-specific investigation
  - Progressive debugging skills (8 weeks)
- **Tools**: read, write, bash, python
- **Model**: sonnet
- **Integration Point**: Called when students encounter bugs

### Development Tool Agents

#### 11. `agents/testing-specialist.md`
- **Type**: Testing Strategies Teacher
- **Purpose**: Teaches unit testing, integration testing, TDD
- **Relevance**: Test-driven development learning
- **Tools**: read, write, bash, python
- **Model**: sonnet
- **Integration Point**: Testing phases in plans

#### 12. `agents/git-workflow-expert.md`
- **Type**: Version Control Teacher
- **Purpose**: Teaches Git workflows, branching, collaboration
- **Relevance**: Version control best practices
- **Tools**: read, write, bash
- **Model**: sonnet
- **Integration Point**: Version control guidance

#### 13. `agents/documentation-generator.md`
- **Type**: Technical Writing Teacher
- **Purpose**: Teaches technical documentation, API docs, user guides
- **Relevance**: Documentation best practices
- **Tools**: read, write
- **Model**: sonnet
- **Integration Point**: Documentation phases

#### 14. `agents/file-search-agent.md`
- **Type**: Codebase Analysis Agent
- **Purpose**: Searches codebase and creates comprehensive file documentation
- **Relevance**: Enables context-aware planning
- **Key Components**:
  - Multi-strategy search (Glob, Grep, content-based)
  - File analysis and categorization
  - Relationship mapping
  - Markdown generation
- **Tools**: Read, Write, Glob, Grep
- **Model**: sonnet
- **Output**: `project-context/relevant-files-[timestamp].md`
- **Integration Point**: Invoked by project-plan-orchestrator
- **Dependencies**: None (leaf agent)
- **Status**: Recently added, not yet tested

---

## üìÅ Command Files

### Learning Workflow Commands

#### 15. `commands/start-learning.md`
- **Purpose**: Begin a new learning journey
- **Integration**: Invokes learning-coordinator
- **Usage**: `/start-learning [topic]`

#### 16. `commands/create-plan.md`
- **Purpose**: Generate standard learning plan
- **Integration**: Invokes plan-generation-mentor
- **Usage**: `/create-plan [feature]`

#### 17. `commands/create-project-plan.md`
- **Purpose**: Generate context-aware project plan (NEW)
- **Integration**: Invokes project-plan-orchestrator
- **Usage**: `/create-project-plan [feature]`
- **Status**: Newly created, needs slash command registration

#### 18. `commands/continue-plan.md`
- **Purpose**: Resume learning journey from active plan
- **Integration**: Works with learning-coordinator
- **Usage**: `/continue-plan`

#### 19. `commands/update-plan.md`
- **Purpose**: Track progress and reflect on learning
- **Integration**: Updates plan files with progress
- **Usage**: `/update-plan`

### Specialist & Utility Commands

#### 20. `commands/ask-specialist.md`
- **Purpose**: Route question to appropriate specialist
- **Integration**: Invokes specific domain specialist
- **Usage**: `/ask-specialist [question]`

#### 21. `commands/check-understanding.md`
- **Purpose**: Verify understanding through discussion
- **Integration**: Uses learning-coordinator
- **Usage**: `/check-understanding [topic]`

#### 22. `commands/reflection.md`
- **Purpose**: Analyze teaching approach and suggest improvements
- **Integration**: Used by learning-coordinator as first step
- **Usage**: `/reflection`

---

## üîó File Relationships

### Dependency Map

```
learning-coordinator (Master)
  ‚îú‚îÄ invokes: ALL teaching agents
  ‚îú‚îÄ uses: reflection.md command
  ‚îú‚îÄ coordinates: plan-generation-mentor
  ‚îî‚îÄ manages: start-learning, continue-plan, update-plan

project-plan-orchestrator (NEW)
  ‚îú‚îÄ invokes: file-search-agent
  ‚îú‚îÄ invokes: plan-generation-mentor
  ‚îú‚îÄ used by: create-project-plan command
  ‚îî‚îÄ sequential workflow (no parallel)

plan-generation-mentor
  ‚îú‚îÄ invoked by: learning-coordinator
  ‚îú‚îÄ invoked by: project-plan-orchestrator
  ‚îú‚îÄ reads: project-context/relevant-files-*.md (NEW)
  ‚îî‚îÄ creates: plans/*-learning-plan.md

file-search-agent (NEW)
  ‚îú‚îÄ invoked by: project-plan-orchestrator
  ‚îú‚îÄ no dependencies (leaf agent)
  ‚îî‚îÄ creates: project-context/relevant-files-*.md

Teaching Specialists (9 agents)
  ‚îú‚îÄ invoked by: learning-coordinator
  ‚îú‚îÄ invoked by: ask-specialist command
  ‚îú‚îÄ referenced in: learning plans
  ‚îî‚îÄ no cross-dependencies
```

### Command-Agent Relationships

```
/start-learning ‚Üí learning-coordinator
/create-plan ‚Üí plan-generation-mentor
/create-project-plan ‚Üí project-plan-orchestrator ‚Üí [file-search-agent, plan-generation-mentor]
/continue-plan ‚Üí learning-coordinator ‚Üí [loads plan] ‚Üí [phase specialist]
/update-plan ‚Üí [plan file modification]
/ask-specialist ‚Üí [appropriate specialist]
/check-understanding ‚Üí learning-coordinator
/reflection ‚Üí [analysis of current chat]
```

---

## üí° Planning Recommendations

### Critical Issues to Address

#### 1. **Tool Configuration Inconsistency**
**Current State**:
- Some agents: `tools: read, write, python` (comma-separated)
- Some agents: `tools:\n  - Read\n  - Write` (YAML list)
- Mix of capitalization: "read" vs "Read"

**Impact**: May cause parsing issues or unexpected behavior

**Recommendation**: Standardize on YAML list format with consistent capitalization

#### 2. **Missing Activation Patterns**
**Current State**:
- Only project-plan-orchestrator has `activation: proactive`
- Other agents don't specify activation behavior

**Impact**: Unclear when agents should be automatically invoked

**Recommendation**: Add activation field to all agents

#### 3. **Command Registration**
**Current State**:
- `/create-project-plan` command exists but returns "Unknown slash command"

**Impact**: New workflow not accessible to users

**Recommendation**: Register command in Claude Code configuration

#### 4. **Agent Testing**
**Current State**:
- No test files or validation for agents
- New agents (file-search-agent, project-plan-orchestrator) untested

**Impact**: Unknown if agents work as expected

**Recommendation**: Create test scenarios and validation process

#### 5. **Documentation Completeness**
**Current State**:
- New PROJECT_PLANNING_SYSTEM.md created
- SUB_AGENTS_GUIDE.md exists
- No overview of all agents in one place

**Impact**: Hard to discover all available agents

**Recommendation**: Create AGENTS_REFERENCE.md with complete listing

### Files to Modify

#### 1. **All Agent Files** (14 files)
- **Why**: Standardize tool configuration format
- **What**: Convert to YAML list format with consistent capitalization
- **Priority**: High (affects parsing)

#### 2. **`agents/learning-coordinator.md`**
- **Why**: Too large (472 lines), hard to maintain
- **What**: Consider splitting into learning-coordinator-core and learning-coordinator-examples
- **Priority**: Medium (maintainability)

#### 3. **`agents/cpp-best-practises.md`**
- **Why**: Filename typo
- **What**: Rename to `cpp-best-practices.md` for consistency
- **Priority**: Low (aesthetic)

#### 4. **`.claude/settings.local.json`**
- **Why**: Register new command
- **What**: Add `/create-project-plan` command registration
- **Priority**: High (functionality)

### New Files to Create

#### 1. **`docs/AGENTS_REFERENCE.md`**
- **Purpose**: Complete reference of all agents
- **Content**: Name, purpose, tools, when to use, examples
- **Why**: Easy agent discovery

#### 2. **`tests/agent-validation.md`**
- **Purpose**: Test scenarios for each agent
- **Content**: Input scenarios, expected behavior, success criteria
- **Why**: Ensure agents work correctly

#### 3. **`agents/README.md`**
- **Purpose**: Quick start guide for agents directory
- **Content**: Directory structure, naming conventions, how to create agents
- **Why**: Onboarding new agent developers

#### 4. **`.agent-schema.json`**
- **Purpose**: JSON schema for agent YAML frontmatter
- **Content**: Required fields, valid values, examples
- **Why**: Validation and standardization

#### 5. **`commands/README.md`**
- **Purpose**: Command directory documentation
- **Content**: How commands work, how to create them, list of all commands
- **Why**: Command discovery and documentation

### Existing Patterns to Follow

**Agent Structure Pattern** (from existing agents):
```markdown
---
name: agent-name
description: Clear one-line description
tools:
  - Read
  - Write
model: sonnet
activation: proactive | manual
---

You are the **agent-name**, an expert in [domain].

## TEACHING RULES (or IMPLEMENTATION APPROACH)
- ‚ùå NEVER [bad practice]
- ‚úÖ ALWAYS [good practice]

## Process
1. Step 1: [action]
2. Step 2: [action]
...
```

**Command Structure Pattern**:
```markdown
You are executing the `/command-name` for: $ARGUMENTS

## Your Mission
[Clear description]

## Process
### Step 1: [action]
[Details]
...
```

**Teaching Agent Pattern**:
- Emphasize "NEVER provide complete solutions"
- Use "ALWAYS guide through thinking"
- Include examples with 2-3 line snippets
- Ask questions to prompt discovery

---

## üéØ Integration Opportunities

### 1. Agent Registry System
**Opportunity**: Create centralized registry for agent discovery
- **Files**: New `agent-registry.json` or `.claude/agents.json`
- **Benefit**: Automatic agent discovery, validation, documentation generation
- **Integration**: Learning-coordinator reads registry to know available specialists

### 2. Agent Versioning
**Opportunity**: Add version tracking to agents
- **Files**: Add `version: 1.0.0` to agent frontmatter
- **Benefit**: Track changes, manage compatibility, rollback if needed
- **Integration**: Commands can request specific agent versions

### 3. Agent Metrics
**Opportunity**: Track agent invocations and success
- **Files**: New `agent-metrics.json` logged by coordinators
- **Benefit**: Understand which agents are most useful, identify issues
- **Integration**: Learning-coordinator logs each specialist invocation

### 4. Composite Agents
**Opportunity**: Create agents that combine multiple specialists
- **Example**: "full-stack-learning-agent" = ros2 + python + architecture
- **Benefit**: Common agent combinations pre-packaged
- **Integration**: Reduces coordination overhead for common scenarios

### 5. Agent Templates
**Opportunity**: Create starter templates for new agents
- **Files**: `templates/teaching-agent-template.md`, `templates/implementation-agent-template.md`
- **Benefit**: Faster agent creation, consistency
- **Integration**: Documentation references templates

---

## üîß Architectural Insights

### Current Architecture Strengths
‚úÖ **Clear separation of concerns**: Coordinators, mentors, specialists
‚úÖ **Consistent teaching philosophy**: All agents follow "guide, don't solve"
‚úÖ **Modular design**: Each agent is independent
‚úÖ **Rich documentation**: Agents have detailed instructions
‚úÖ **Extensible**: Easy to add new specialists

### Current Architecture Weaknesses
‚ö†Ô∏è **No dependency management**: Agent relationships implicit, not explicit
‚ö†Ô∏è **Tool configuration inconsistency**: Parsing issues possible
‚ö†Ô∏è **No validation layer**: Agents may have errors that go undetected
‚ö†Ô∏è **Limited error handling**: No standard error handling patterns
‚ö†Ô∏è **No performance tracking**: Don't know which agents are slow
‚ö†Ô∏è **Coordinator complexity**: learning-coordinator is very large

### Recommended Architecture Changes

#### Short-term (Quick Wins)
1. Standardize tool configurations
2. Add activation patterns to all agents
3. Register create-project-plan command
4. Create AGENTS_REFERENCE.md
5. Test new agents (file-search, orchestrator)

#### Medium-term (Improvements)
1. Add agent registry system
2. Create agent validation schema
3. Split large agents (learning-coordinator)
4. Add agent metrics tracking
5. Create agent templates

#### Long-term (Transformative)
1. Dynamic agent loading/registration
2. Agent marketplace (community agents)
3. Agent composition system
4. Performance optimization layer
5. Multi-language agent support

---

## üìà Success Metrics

To measure improvement of agent structure:

**Quality Metrics**:
- All agents pass schema validation
- Tool configurations standardized (100%)
- Documentation completeness (all agents have examples)

**Usability Metrics**:
- Agent discovery time (< 2 minutes to find right specialist)
- Command success rate (> 90% work without errors)
- User satisfaction (feedback on agent helpfulness)

**Performance Metrics**:
- Agent invocation time (baseline vs optimized)
- Coordinator overhead (time spent managing vs teaching)
- Error rate (failed invocations)

**Adoption Metrics**:
- Number of active agents used per session
- Most frequently invoked specialists
- Command usage patterns

---

## üöÄ Quick Start for Improvements

To begin improving the learning agent structure:

1. **Start with standardization** (High Priority)
   - Fix tool configuration formats
   - Add missing activation patterns
   - Standardize frontmatter

2. **Add documentation** (High Priority)
   - Create AGENTS_REFERENCE.md
   - Document agent relationships
   - Create README files

3. **Test new components** (High Priority)
   - Validate file-search-agent
   - Test project-plan-orchestrator
   - Register create-project-plan command

4. **Create infrastructure** (Medium Priority)
   - Agent registry
   - Validation schema
   - Metrics tracking

5. **Refactor for maintainability** (Medium Priority)
   - Split large agents
   - Create templates
   - Standardize error handling

---

## üìù Summary

**Current State**: 14 well-documented teaching agents with some inconsistencies and newly added context-aware planning system

**Key Strengths**: Strong teaching philosophy, modular design, rich documentation

**Key Weaknesses**: Tool config inconsistency, no validation, large coordinators, new features untested

**Recommendation**: Start with standardization and testing, then add infrastructure for long-term maintainability

**Expected Outcome**: More maintainable, consistent, and discoverable agent system with validated behavior and performance tracking
